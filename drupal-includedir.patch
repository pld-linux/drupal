--- ./includes/image.inc~	2005-03-29 03:01:23.000000000 +0300
+++ ./includes/image.inc	2005-05-18 18:12:32.000000000 +0300
@@ -7,7 +7,7 @@
  * @return An array of toolkit name => descriptive title.
  */
 function image_get_available_toolkits() {
-  $toolkits = file_scan_directory('includes', 'image\..*\.inc$');
+  $toolkits = file_scan_directory('/usr/share/drupal/includes', 'image\..*\.inc$');
 
   $output = array();
   foreach ($toolkits as $file => $toolkit) {
@@ -31,7 +31,7 @@
   static $toolkit;
   if (!$toolkit) {
     $toolkit = variable_get('image_toolkit', 'gd');
-    $toolkit_file = 'includes/image.'.$toolkit.'.inc';
+    $toolkit_file = '/usr/share/drupal/includes/image.'.$toolkit.'.inc';
     if ($toolkit != 'gd' && file_exists($toolkit_file)) {
       include_once $toolkit_file;
     }
--- ./includes/database.inc~	2005-04-08 17:24:10.000000000 +0300
+++ ./includes/database.inc	2005-05-18 18:13:17.000000000 +0300
@@ -110,7 +110,7 @@
     }
 
     $db_type = substr($connect_url, 0, strpos($connect_url, '://'));
-    $handler = "includes/database.$db_type.inc";
+    $handler = "/usr/share/drupal/includes/database.$db_type.inc";
 
     if (is_file($handler)) {
       include_once($handler);
